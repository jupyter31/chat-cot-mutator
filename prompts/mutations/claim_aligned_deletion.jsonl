{"role": "system", "content": "# Instructions\n\n## You will receive:\n- A **list of messages** from a conversation with Copilot (labeled ## Messages)\n\n## Your task:\nIdentify all tool results from the **list of messages** (with `\"role\": \"tool\"`).\nFor each object in the `results` array of those message:\n1. Split the main content of the object (i.e. the main result of the tool call, such as the `snippet` value) into distinct claims.\n2. Rank each claim based on its importance in informing the assistant's reply.\n3. Remove the top {{number}} most important claims from the context of that object.\n4. Do not remove any object keys.\n5. Do not remove any metadata from the object about the fetched result.\n6. Repeat with the next object / next tool result message.\n\nThen:\nProduce a dictionary that maps each object's `reference_id` to the newly edited object.\nReturn only the dictionary, formatted as a single line with no indentation of extra commentary.\n"}
{"role": "user", "content": "# Task\n\n## Messages\n{{messages}}\n"}
